(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5fS1":function(t,e,n){var a=n("WprH");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,s);a.locals&&(t.exports=a.locals)},WprH:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.style-chooser .vs__search::placeholder,\n.style-chooser .vs__dropdown-toggle,\n.style-chooser .vs__dropdown-menu {\n    background: #dfe5fb;\n    border: none;\n    color: #394066;\n    text-transform: lowercase;\n    font-variant: small-caps;\n}\n.style-chooser .vs__clear,\n.style-chooser .vs__open-indicator {\n    fill: #394066;\n}\n",""])},hwcH:function(t,e,n){"use strict";n.r(e);var a=n("3fBN"),s={components:{Alert:n("z80y").a},data:function(){return{acta:{codigo:"",junta_id:null,votos_blancos:0,votos_nulos:0,total_votantes:0,estado:0,ingresada_por:!0,imagen:null},selected:null,image:null,processing:!1,errorMessage:null,recintos:[],recinto:null,loadingRecintos:!1,juntas:[],junta:null,loadingJuntas:!1}},created:function(){this.fetchRecintos()},computed:{user:function(){var t=window.localStorage.getItem("user");return JSON.parse(t)},token:function(){return window.localStorage.getItem("token")}},methods:{fetchRecintos:function(){var t=this;this.loadingRecintos=!1,a.a.get("control-electoral/recintos/dropdownOptions",{params:{recintos_sin_actas:!0},headers:{Authorization:"Bearer ".concat(this.token),"Content-Type":"application/json"}}).then((function(e){t.recintos=e.data.items,t.loadingRecintos=!1})).catch((function(e){console.log(e),t.errorMessage=e,t.loadingRecintos=!1}))},selectJuntasXRecinto:function(t){var e=this;this.loadingJuntas=!0,a.a.get("control-electoral/juntas/dropdownOptions",{params:{recintoId:t.id,junta_sin_acta:!0},headers:{Authorization:"Bearer ".concat(this.token),"Content-Type":"application/json"}}).then((function(n){e.acta.junta_id=t.id,e.juntas=n.data.items,e.loadingJuntas=!1})).catch((function(t){console.log(t),e.errorMessage=t,e.loadingJuntas=!1}))},selectJunta:function(t){this.acta.junta_id=t.id},selectImagen:function(t){var e=t.target.files[0];this.createBase64Image(e)},createBase64Image:function(t){var e=this,n=new FileReader;n.onload=function(t){e.image=t.target.result},n.readAsDataURL(t)},addActa:function(t){var e=this;this.processing=!0,this.acta.ingresada_por=this.user.id,this.acta.imagen=this.image;var n=new FormData;for(var s in this.acta)n.append(s,this.acta[s]);a.a.post("control-electoral/actas",n,{headers:{Authorization:"Bearer ".concat(this.token),"Content-Type":"application/json"}}).then((function(n){n.data.status?(t.target.reset(),e.acta.imagen=null,e.recinto=null,e.junta=null,e.image=null,e.fetchRecintos(),e.showSucces()):(t.target.reset(),e.showWarning(n.data.msg)),e.processing=!1})).catch((function(t){console.log(t),e.processing=!1}))},showSucces:function(){this.$toast.success("¡Dados guardados correctamente!",{position:"top-right",timeout:1500,draggablePercent:.6,hideProgressBar:!0,closeButton:"button",icon:!0})},showWarning:function(t){var e=this;this.$swal({icon:"warning",title:t,allowOutsideClick:!1,text:"POR FAVOR INFORMA ÉSTE PROBLEMA A UN ADMINISTRADOR",footer:"Por favor informa éste problema a un administrador ",confirmButtonText:"Ok registrar otra acta"}).then((function(t){t.isConfirmed?(e.$refs.frmActas.reset(),e.fetchRecintos()):t.isDenied&&e.$swal("Changes are not saved","","info")}))}}},o=(n("lF8d"),n("KHd+")),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid place-items-center box-main "},[n("div",{staticClass:"container mx-auto"},[t._m(0),t._v(" "),n("div",{staticClass:"container max-auto "},[n("div",{staticClass:"bg-blanco rounded overflow-hidden shadow-lg min-w-[80%]"},[n("div",{staticClass:"pt-4 w-full"},[n("form",{staticClass:"w-full",on:{submit:function(e){return e.preventDefault(),t.addActa(e)}}},[n("div",{staticClass:"flex flex-wrap px-4 pb-2"},[n("div",{staticClass:"min-w-[50%] sm:min-w-[100%] md:min-w-[50%] pr-2"},[n("div",{staticClass:"bg-white mb-4 rounded"},[n("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-negro",attrs:{for:"recintos"}},[t._v("Recintos")]),t._v(" "),n("v-select",{staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"recintos",label:"nombre",options:t.recintos,placeholder:"Seleccione el recinto",loading:t.loadingRecintos},on:{input:t.selectJuntasXRecinto},scopedSlots:t._u([{key:"search",fn:function(e){var a=e.attributes,s=e.events;return[n("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.recinto}},"input",a,!1),s))]}},{key:"no-options",fn:function(e){var a=e.search;return[e.searching?[t._v("\r\n                                                No se encontraron resultados para\r\n                                                "),n("em",[t._v(t._s(a)+"\r\n                                            ")])]:n("em",{staticStyle:{opacity:"0.5"}},[t._v("Comience a escribir para buscar un recinto")])]}}]),model:{value:t.recinto,callback:function(e){t.recinto=e},expression:"recinto"}},[t._v(" "),n("v-select",{attrs:{options:t.recintos,label:"title"},scopedSlots:t._u([{key:"option",fn:function(e){return[t._v("\r\n                                                "+t._s(e.nombre)+"\r\n                                            ")]}}])})],1)],1),t._v(" "),n("div",{staticClass:"bg-white mb-4 rounded"},[n("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-negro",attrs:{for:"juntas"}},[t._v("Juntas")]),t._v(" "),n("v-select",{staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"juntas",label:"para_select",options:t.juntas,placeholder:"Seleccione la junta",loading:t.loadingJuntas},on:{input:t.selectJunta},scopedSlots:t._u([{key:"search",fn:function(e){var a=e.attributes,s=e.events;return[n("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.junta}},"input",a,!1),s))]}},{key:"no-options",fn:function(e){var a=e.search;return[e.searching?[t._v("\r\n                                                No se encontraron resultados para\r\n                                                "),n("em",[t._v(t._s(a)+"\r\n                                            ")])]:n("em",{staticStyle:{opacity:"0.5"}},[t._v("Comience a escribir para buscar una junta")])]}}]),model:{value:t.junta,callback:function(e){t.junta=e},expression:"junta"}},[t._v(" "),n("v-select",{attrs:{options:t.juntas,label:"title"},scopedSlots:t._u([{key:"option",fn:function(e){return[t._v("\r\n                                                "+t._s(e.codigo)+" / "+t._s(e.tipo.toUpperCase())+" / "+t._s(e.id)+" mamnul\r\n                                            ")]}}])})],1)],1),t._v(" "),n("div",{staticClass:"bg-white mb-4"},[n("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900",attrs:{for:"multiple_files"}},[t._v("Seleccione la imágen del acta")]),t._v(" "),n("div",{staticClass:"block"},[n("span",{staticClass:"sr-only"},[t._v("Choose File")]),t._v(" "),n("input",{staticClass:"block w-full text-sm text-gray-500 file:border-current  file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:bg-negro file:text-blanco hover:file:bg-plomo",attrs:{type:"file",accept:"image/*",required:""},on:{change:t.selectImagen}})])]),t._v(" "),n("div",{staticClass:"pt-5 w-full flex justify-center"},[t.recintos.length>0?[n("button",{class:"flex justify-center border-solid border border-negro rounded-xl bg-negro hover:bg-plomo"+(t.processing?" bg-plomo":" bg-negro"),attrs:{type:"submit",disabled:t.processing}},[n("span",{staticClass:"py-1 px-2 text-blanco"},[t._v(" GUARDAR ")]),t._v(" "),t.processing?n("span",{staticClass:"py-1 px-2 text-blanco"},[n("svg",{staticClass:"h-6 w-6 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}})])]):t._e()])]:[n("alert",{attrs:{type:"info",description:"¡No existe ningún recinto para registar actas! Gracias por tu trabajo"}})]],2)]),t._v(" "),n("div",{staticClass:"min-w-[50%] sm:min-w-[100%] md:min-w-[50%] pl-2 flex items-center rounded"},[n("figure",{staticClass:"max-w-lg m-auto w-full"},[n("figcaption",{staticClass:"mt-2 text-sm text-center text-gray-500 dark:text-gray-400"},[t._v("Vista previa del acta")]),t._v(" "),n("img",{staticClass:"rounded-lg",attrs:{src:t.image?t.image:"images/control_electoral/no-imagen-acta.png",height:"224px",alt:""}})])])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container max-auto text-negro text-xl pt-[78px] pl-4"},[e("h1",{staticClass:"text-negro underline font-bold decoration-negro"},[this._v("\r\n                IMÁGENES\r\n            ")])])}],!1,null,null,null);e.default=r.exports},lF8d:function(t,e,n){"use strict";n("5fS1")},z80y:function(t,e,n){"use strict";var a={components:{},props:{type:{type:String,requiere:!0},description:{type:String,requiere:!0}},data:function(){return{color:""}},computed:{title:function(){var t="";switch(this.type){case"error":this.color="error",t="Error";break;case"info":this.color="info",t="Info";break;default:this.color="warning",t="Warning"}return t}}},s=n("KHd+"),o=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"bg-"+t.color+" border border-"+t.color+" text-"+t.color+"-700 px-4 py-3 rounded relative",attrs:{role:"alert"}},[n("strong",{staticClass:"font-bold"},[t._v(t._s(t.title)+"!")]),t._v(" "),n("input",{staticClass:"bg-error bg-info bg-warning",attrs:{type:"hidden"}}),t._v(" "),n("span",{staticClass:"block sm:inline"},[t._v(t._s(t.description))]),t._v(" "),n("span",{staticClass:"absolute top-0 bottom-0 right-0 px-4 py-3"},[n("svg",{class:"fill-current h-6 w-6 text-"+t.color+"-500",attrs:{role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("title",[t._v("Close")]),n("path",{attrs:{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"}})])])])}),[],!1,null,null,null);e.a=o.exports}}]);